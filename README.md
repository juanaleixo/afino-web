# Afino - AnÃ¡lise Patrimonial Completa ğŸ’°

> **Visualize todo seu patrimÃ´nio em um sÃ³ lugar - imÃ³veis, veÃ­culos, investimentos e muito mais**

## ğŸ—ï¸ Arquitetura Simplificada e Otimizada

O Afino utiliza uma **arquitetura hÃ­brida simplificada** para mÃ¡xima performance com mÃ­nima complexidade:

- **PostgreSQL (Supabase)**: TransaÃ§Ãµes, autenticaÃ§Ã£o e eventos
- **ClickHouse**: PreÃ§os centralizados + posiÃ§Ãµes calculadas automaticamente
- **Sync Inteligente**: Apenas events sincronizam automaticamente, preÃ§os via batch diÃ¡rio
- **Zero Overhead**: Sem triggers pesados no Supabase, sem sobrecarga de performance

## ğŸŒŸ O que Ã© o Afino?

O Afino Ã© a plataforma definitiva para **anÃ¡lise patrimonial completa**. Diferente de apps bancÃ¡rios que mostram apenas investimentos ou planilhas que sÃ£o difÃ­ceis de manter, o Afino permite que vocÃª:

- ğŸ  **Registre TODOS seus bens** - de imÃ³veis a criptomoedas
- ğŸ“Š **Acompanhe a evoluÃ§Ã£o diÃ¡ria** do seu patrimÃ´nio total
- ğŸ¯ **Visualize de forma intuitiva** onde estÃ¡ seu dinheiro
- ğŸ’¡ **Tome decisÃµes informadas** com anÃ¡lises profissionais

## ğŸš€ Por que o Afino Ã© diferente?

### ğŸ“± PatrimÃ´nio Completo, NÃ£o Apenas Investimentos

| Tipo de PatrimÃ´nio | Como Registrar | Exemplos |
|-------------------|----------------|----------|
| **ğŸ  ImÃ³veis** | Adicione e avalie periodicamente | Casa, apartamento, terreno |
| **ğŸš— VeÃ­culos** | Registre com valor de mercado | Carro, moto, barco |
| **ğŸ“ˆ Investimentos** | Acompanhe automaticamente | AÃ§Ãµes, FIIs, ETFs |
| **ğŸª™ Criptomoedas** | Valores em tempo real | Bitcoin, Ethereum |
| **ğŸ’µ Contas e AplicaÃ§Ãµes** | Saldos atualizados | PoupanÃ§a, CDB, CDI |
| **ğŸ¨ Outros Bens** | Personalize como quiser | Arte, joias, coleÃ§Ãµes |

### ğŸ” AnÃ¡lise DiÃ¡ria Premium

Com a versÃ£o Premium, vocÃª tem acesso a:
- **Timeline DiÃ¡ria**: Veja exatamente como seu patrimÃ´nio evoluiu dia a dia
- **MÃºltiplas Carteiras**: Organize por objetivo (aposentadoria, emergÃªncia, etc)
- **RelatÃ³rios Detalhados**: Entenda onde estÃ¡ crescendo ou perdendo valor

## âš¡ Performance de Classe Enterprise

### OtimizaÃ§Ãµes AvanÃ§adas
- **GrÃ¡ficos carregam 10x mais rÃ¡pido**: 200-400ms vs 2-5s tradicionais
- **AnÃ¡lise em tempo real**: Volatilidade, Sharpe ratio e mÃ©tricas prÃ©-calculadas
- **RecÃ¡lculo instantÃ¢neo**: MudanÃ§as refletem em menos de 100ms
- **Escala automÃ¡tica**: Suporta milhÃµes de transaÃ§Ãµes sem degradaÃ§Ã£o

### ComparaÃ§Ã£o de Performance

| Funcionalidade | Apps Tradicionais | Afino |
|----------------|-------------------|-------|
| Timeline de 1 ano | 5-15 segundos | 200ms |
| Breakdown por ativo | 10-30 segundos | 50ms |
| RecÃ¡lculo apÃ³s evento | 30-120 segundos | 100ms |
| AnÃ¡lise de volatilidade | Manual/Inexistente | AutomÃ¡tica |

## ğŸ’« Como Funciona?

### 1ï¸âƒ£ Cadastre Seu PatrimÃ´nio Atual

**ImÃ³veis e VeÃ­culos:**
```
Exemplo: "Tenho um apartamento que vale R$ 500.000"
â†’ Use "Adicionar PatrimÃ´nio Existente"
â†’ Selecione "ImÃ³vel" 
â†’ Digite o valor atual
âœ… Pronto! JÃ¡ aparece no seu patrimÃ´nio total
```

**Investimentos:**
```
Exemplo: "Tenho 100 aÃ§Ãµes da Petrobras"
â†’ Use "Adicionar PatrimÃ´nio Existente"
â†’ Busque "PETR4"
â†’ Digite a quantidade
âœ… O valor Ã© calculado automaticamente!
```

### 2ï¸âƒ£ Mantenha Atualizado

- **Ativos com CotaÃ§Ã£o** (aÃ§Ãµes, cripto): AtualizaÃ§Ã£o automÃ¡tica diÃ¡ria
- **Bens FÃ­sicos** (imÃ³vel, veÃ­culo): VocÃª atualiza quando quiser
- **AplicaÃ§Ãµes** (CDI, poupanÃ§a): Registre os rendimentos mensalmente

### 3ï¸âƒ£ Acompanhe a EvoluÃ§Ã£o

Visualize atravÃ©s de:
- ğŸ“Š **GrÃ¡fico de EvoluÃ§Ã£o**: Linha do tempo do patrimÃ´nio total
- ğŸ¥§ **ComposiÃ§Ã£o**: Pizza mostrando onde estÃ¡ cada real
- ğŸ“ˆ **Performance**: Quanto cada ativo contribuiu para o crescimento

## ğŸ¯ Casos de Uso Reais

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ FamÃ­lia Silva - Controle Patrimonial Completo
```
PatrimÃ´nio Registrado:
- Casa prÃ³pria: R$ 800.000
- Carro SUV: R$ 120.000  
- PoupanÃ§a: R$ 50.000
- AÃ§Ãµes variadas: R$ 200.000
- Bitcoin: R$ 30.000

BenefÃ­cio: "Agora vemos que 66% do patrimÃ´nio estÃ¡ em imÃ³vel. 
Vamos diversificar mais!"
```

### ğŸ’¼ JoÃ£o - Investidor Iniciante
```
ComeÃ§ou com:
- Conta corrente: R$ 5.000
- FGTS: R$ 15.000

ApÃ³s 1 ano:
- CDB: R$ 10.000
- AÃ§Ãµes: R$ 8.000
- Reserva: R$ 12.000

BenefÃ­cio: "O grÃ¡fico mostra que economizei R$ 15.000 em 1 ano!"
```

## ğŸ› ï¸ OperaÃ§Ãµes DisponÃ­veis

### Para Registrar PatrimÃ´nio

| OperaÃ§Ã£o | Quando Usar | Exemplo |
|----------|-------------|---------|
| **â• Adicionar PatrimÃ´nio** | Registrar algo que vocÃª jÃ¡ tem | "Tenho um carro de R$ 50.000" |
| **ğŸ’° Entrada de Dinheiro** | Recebeu dinheiro novo | "Recebi salÃ¡rio de R$ 5.000" |
| **ğŸ“Š Atualizar Valor** | Mudou o valor de mercado | "Meu apto agora vale R$ 600.000" |

### Para MovimentaÃ§Ãµes

| OperaÃ§Ã£o | Quando Usar | Exemplo |
|----------|-------------|---------|
| **ğŸ›’ Compra** | Comprou algo novo | "Comprei 50 aÃ§Ãµes por R$ 30 cada" |
| **ğŸ’¸ SaÃ­da de Dinheiro** | Gastou ou retirou | "Paguei R$ 2.000 de contas" |

## ğŸ†š ComparaÃ§Ã£o com Alternativas

| Funcionalidade | Afino | Apps BancÃ¡rios | Planilhas |
|----------------|-------|----------------|-----------|
| Todos os tipos de patrimÃ´nio | âœ… | âŒ SÃ³ investimentos | âœ… Manual |
| AtualizaÃ§Ã£o automÃ¡tica | âœ… | âœ… Parcial | âŒ |
| AnÃ¡lise visual profissional | âœ… | âš ï¸ BÃ¡sica | âŒ |
| HistÃ³rico diÃ¡rio | âœ… | âŒ | âš ï¸ Trabalhoso |
| MÃºltiplas carteiras | âœ… | âŒ | âœ… |
| Facilidade de uso | âœ… | âœ… | âŒ |

## ğŸ¨ Interface Intuitiva

### Tela Principal - VisÃ£o Geral
- **PatrimÃ´nio Total**: NÃºmero grande no topo
- **VariaÃ§Ã£o**: Quanto mudou hoje/mÃªs/ano
- **GrÃ¡fico**: EvoluÃ§Ã£o visual
- **Lista de Ativos**: Todos os seus bens organizados

### Adicionar Novo PatrimÃ´nio
1. **Escolha o Tipo**: Ãcones grandes e claros
2. **Busque ou Crie**: Digite o nome e encontre
3. **Informe Detalhes**: Quantidade e valor
4. **Confirme**: Veja instantaneamente no patrimÃ´nio

## ğŸš€ ComeÃ§ar Ã© Simples

### 1. Crie sua conta (grÃ¡tis)
### 2. Adicione seu primeiro patrimÃ´nio
### 3. Veja seu patrimÃ´nio total instantaneamente

**Dica inicial**: Comece com o que Ã© mais fÃ¡cil - suas contas bancÃ¡rias e investimentos. Depois adicione imÃ³veis e outros bens.

## ğŸ’ Planos

### GrÃ¡tis Forever
- âœ… PatrimÃ´nio ilimitado
- âœ… AtualizaÃ§Ãµes automÃ¡ticas
- âœ… 1 carteira
- âœ… VisÃ£o mensal

### Premium (R$ 19,90/mÃªs)
- âœ… Tudo do plano grÃ¡tis
- âœ… **AnÃ¡lise diÃ¡ria detalhada**
- âœ… **Carteiras ilimitadas**
- âœ… **Exportar relatÃ³rios**
- âœ… **Suporte prioritÃ¡rio**

## ğŸ”’ SeguranÃ§a & Infraestrutura

### SeguranÃ§a
- ğŸ” Criptografia de ponta a ponta
- ğŸ¦ Infraestrutura bancÃ¡ria (Supabase)
- ğŸ‘¤ Seus dados sÃ£o sÃ³ seus
- ğŸš« NÃ£o vendemos suas informaÃ§Ãµes

### Tecnologia Enterprise
- **ClickHouse**: Database analÃ­tico usado por Yandex, Uber, Cloudflare
- **PostgreSQL**: Confiabilidade ACID para transaÃ§Ãµes
- **Next.js 15**: Framework moderno com SSR
- **Supabase**: Backend-as-a-Service com real-time
- **TypeScript**: Tipagem forte end-to-end

## ğŸ› ï¸ Stack TÃ©cnica

```typescript
// Arquitetura HÃ­brida Simplificada
interface TechStack {
  frontend: 'Next.js 15 + TypeScript',
  styling: 'Tailwind CSS + shadcn/ui',
  charts: 'Recharts + Lightweight Charts',
  
  // WRITE SIDE (TransaÃ§Ãµes)
  transactional: 'PostgreSQL (Supabase)',
  auth: 'Supabase Auth',
  realtime: 'Supabase Realtime',
  sync: 'Edge Functions (webhooks)',
  
  // READ SIDE (Analytics)
  analytics: 'ClickHouse (columnar)',
  prices: 'Centralized daily_prices table',
  positions: 'Auto-calculated via Materialized Views',
  
  // Data Flow Simplificado
  events: 'PostgreSQL â†’ ClickHouse (real-time)',
  prices: 'External APIs â†’ ClickHouse (batch daily)',
  positions: 'Auto-calculated from events + prices',
  
  // DevOps
  hosting: 'Cloudflare Pages',
  cicd: 'GitHub Actions'
}
```

## ğŸ”§ Como Usar a Arquitetura Simplificada

### Setup e ConfiguraÃ§Ã£o

```bash
# 1. Clone o repositÃ³rio
git clone https://github.com/afino/afino-web.git
cd afino-web

# 2. Configure variÃ¡veis de ambiente
cp .env.example .env.local
# Configure CLICKHOUSE_URL, CLICKHOUSE_USER, CLICKHOUSE_PASSWORD

# 3. Configure ClickHouse (uma Ãºnica vez)
npm run clickhouse:migrate

# 4. Configure triggers no Supabase
# Execute: database/supabase/triggers.sql no Supabase Dashboard

# 5. Deploy edge function para sync
supabase functions deploy clickhouse-sync
```

### Scripts DisponÃ­veis

```bash
# Desenvolvimento
npm run dev                    # Inicia o servidor de dev
npm run build                 # Build para produÃ§Ã£o

# ClickHouse
npm run clickhouse:migrate    # Aplica schema simplificado
npm run clickhouse:health     # Verifica conectividade

# SincronizaÃ§Ã£o
npm run sync:prices           # Sync preÃ§os hoje
npm run sync:prices:yesterday # Sync preÃ§os ontem
npm run sync:initial          # MigraÃ§Ã£o inicial (uma vez)

# Testes
npm run test                  # Roda testes unitÃ¡rios
npm run type-check           # Verifica tipos TypeScript
```

### Fluxo de Dados Simplificado

1. **Events (Tempo Real)**
   ```
   UsuÃ¡rio cria evento â†’ Supabase â†’ Trigger â†’ ClickHouse
   â†“
   Materialized View recalcula posiÃ§Ãµes automaticamente
   ```

2. **PreÃ§os (Batch DiÃ¡rio)**
   ```
   Cron job â†’ External APIs â†’ daily_prices table
   â†“
   Queries usam preÃ§os centralizados para cÃ¡lculos
   ```

3. **Consultas (Ultra RÃ¡pidas)**
   ```
   Frontend â†’ ClickHouse Views â†’ Dados prÃ©-calculados
   Resultado: 200ms instead of 2-5s
   ```

## ğŸ“± DisponÃ­vel em

- ğŸ’» **Web**: Acesse de qualquer navegador
- ğŸ“± **Mobile**: Em breve para iOS e Android

## ğŸ¤ Suporte

- ğŸ“§ Email: contato@afino.app
- ğŸ’¬ Chat: Dentro do app
- ğŸ“š Central de ajuda: help.afino.app

---

**Afino** - Porque seu patrimÃ´nio Ã© mais que nÃºmeros em uma planilha. Ã‰ sua conquista, seu futuro, sua tranquilidade.

*Comece grÃ¡tis hoje e descubra o poder de ver todo seu patrimÃ´nio em um sÃ³ lugar.*